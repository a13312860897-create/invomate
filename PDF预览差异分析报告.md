# PDFä¸é¢„è§ˆå·®å¼‚åˆ†ææŠ¥å‘Š

## æ¦‚è¿°
æœ¬æ–‡æ¡£è®°å½•äº†å‘ç¥¨PDFç”Ÿæˆä¸å‰ç«¯é¢„è§ˆä¹‹é—´çš„å…³é”®å·®å¼‚ï¼Œç”¨äºæŒ‡å¯¼åç»­çš„æ”¹è¿›å·¥ä½œã€‚

## å…³é”®å·®å¼‚å¯¹æ¯”

### 1. å‘ç¥¨é¡¹ç›®æ•°æ® (ğŸ”´ ä¸¥é‡é—®é¢˜)

**é¢„è§ˆå†…å®¹:**
```
Description: Web Development Services
QuantitÃ©: 10
Prix unitaire: 100,00 â‚¬
Taux de TVA: 20,0 %
Total HT: 1 000,00 â‚¬
```

**PDFå†…å®¹:**
```
Description: Aucune description
QuantitÃ©: 1
Prix unitaire: â‚¬0.00
Taux de TVA: %
Total: â‚¬0.00
```

**é—®é¢˜åˆ†æ:**
- å‘ç¥¨é¡¹ç›®æ•°æ®å®Œå…¨ä¸¢å¤±
- å¯èƒ½æ˜¯æ•°æ®æ˜ å°„é—®é¢˜ï¼š`InvoiceItems` æ•°ç»„æœªæ­£ç¡®ä¼ é€’
- éœ€è¦æ£€æŸ¥ `processedInvoiceData.items` çš„æ•°æ®ç»“æ„

### 2. å‘ç¥¨å·ç ä¸ä¸€è‡´ (ğŸ”´ ä¸¥é‡é—®é¢˜)

**é¢„è§ˆå†…å®¹:** `INV-2024-001`
**PDFå†…å®¹:** `FR-2025-000001`

**é—®é¢˜åˆ†æ:**
- å‘ç¥¨å·ç æ¥æºä¸åŒ
- é¢„è§ˆä½¿ç”¨æ•°æ®åº“ä¸­çš„ `invoiceNumber` å­—æ®µ
- PDFå¯èƒ½ä½¿ç”¨äº†ä¸åŒçš„ç”Ÿæˆé€»è¾‘æˆ–é»˜è®¤å€¼

### 3. æ—¥æœŸæ ¼å¼å’Œå€¼å·®å¼‚ (ğŸŸ¡ ä¸­ç­‰é—®é¢˜)

**é¢„è§ˆå†…å®¹:**
```
Date de facture: 15 janvier 2024
Date d'Ã©chÃ©ance: 14 fÃ©vrier 2024
```

**PDFå†…å®¹:**
```
Date de facture: 2025-10-22
Date d'Ã©chÃ©ance: 2025-11-21
```

**é—®é¢˜åˆ†æ:**
- æ—¥æœŸå€¼å®Œå…¨ä¸åŒ
- é¢„è§ˆä½¿ç”¨æ•°æ®åº“å®é™…æ—¥æœŸ
- PDFå¯èƒ½ä½¿ç”¨å½“å‰æ—¥æœŸæˆ–é»˜è®¤å€¼

### 4. é‡‘é¢è®¡ç®—é—®é¢˜ (ğŸ”´ ä¸¥é‡é—®é¢˜)

**é¢„è§ˆå†…å®¹:**
```
Sous-total HT: 1 000,00 â‚¬
TVA 20,0 %: 200,00 â‚¬
Total TTC: 1 200,00 â‚¬
```

**PDFå†…å®¹:**
```
Sous-total HT: â‚¬0.00
Total TVA: â‚¬0.00
Total TTC: â‚¬0.00
```

**é—®é¢˜åˆ†æ:**
- æ‰€æœ‰é‡‘é¢è®¡ç®—ç»“æœä¸ºé›¶
- ä¸å‘ç¥¨é¡¹ç›®æ•°æ®ä¸¢å¤±ç›´æ¥ç›¸å…³
- éœ€è¦ä¿®å¤é¡¹ç›®æ•°æ®ä¼ é€’é—®é¢˜

### 5. å®¢æˆ·ä¿¡æ¯ä¸€è‡´æ€§ (âœ… æ­£å¸¸)

**é¢„è§ˆå’ŒPDFéƒ½æ­£ç¡®æ˜¾ç¤º:**
- å…¬å¸åç§°: Dupont SARL / TechSolutions SARL
- è”ç³»ä¿¡æ¯å’Œåœ°å€
- VATå·ç ç­‰

### 6. é‚®ç®±åœ°å€å·®å¼‚ (ğŸŸ¡ ä¸­ç­‰é—®é¢˜)

**é¢„è§ˆå†…å®¹:** `a133128860897@163.com`
**PDFå†…å®¹:** `contact@techsolutions.fr`

**é—®é¢˜åˆ†æ:**
- é‚®ç®±åœ°å€æ¥æºä¸åŒ
- é¢„è§ˆå¯èƒ½ä½¿ç”¨ç”¨æˆ·å®é™…é‚®ç®±
- PDFä½¿ç”¨å…¬å¸é»˜è®¤é‚®ç®±

### 7. é”€å”®æ–¹ä¿¡æ¯ç¼ºå¤±é—®é¢˜ (ğŸ†• æ–°å‘ç°)

**é—®é¢˜æè¿°:**
- è°ƒè¯•å‘ç°å‘ç¥¨æ•°æ®ä¸­ç¼ºå°‘é”€å”®æ–¹å…¬å¸ä¿¡æ¯
- `sellerCompanyName`ã€`sellerCompanyAddress`ã€`sellerPhone`ã€`sellerEmail`ã€`sellerTaxId` ç­‰å­—æ®µä¸º undefined
- è¿™å¯èƒ½å¯¼è‡´PDFä¸­é”€å”®æ–¹ä¿¡æ¯æ˜¾ç¤ºä¸å®Œæ•´

**åŸå› åˆ†æ:**
- å‘ç¥¨æ•°æ®ç»“æ„ä¸­æ²¡æœ‰åŒ…å«é”€å”®æ–¹ä¿¡æ¯
- PDFç”Ÿæˆæ—¶éœ€è¦ä»ç”¨æˆ·è®¾ç½®æˆ–å…¬å¸é…ç½®ä¸­è·å–é”€å”®æ–¹æ•°æ®
- æ•°æ®æ˜ å°„è¿‡ç¨‹ä¸­å¯èƒ½å­˜åœ¨å­—æ®µç¼ºå¤±

## æ•°æ®æµåˆ†æ

### å½“å‰æ•°æ®ä¼ é€’è·¯å¾„:
1. æ•°æ®åº“ â†’ `invoices.js` è·¯ç”±
2. è·¯ç”± â†’ `generateInvoicePDFNew` å‡½æ•°
3. å‡½æ•° â†’ `PDFInvoiceGenerator` ç±»
4. ç”Ÿæˆå™¨ â†’ PDFè¾“å‡º

### å¯èƒ½çš„é—®é¢˜ç‚¹:
1. **æ•°æ®é¢„å¤„ç†é˜¶æ®µ**: `processedInvoiceData.items` æ˜ å°„é”™è¯¯
2. **å­—æ®µæ˜ å°„é—®é¢˜**: æ•°æ®åº“å­—æ®µä¸PDFç”Ÿæˆå™¨æœŸæœ›å­—æ®µä¸åŒ¹é…
3. **é»˜è®¤å€¼è¦†ç›–**: PDFç”Ÿæˆå™¨ä½¿ç”¨é»˜è®¤å€¼è€Œéä¼ å…¥æ•°æ®

## ä¿®å¤ä¼˜å…ˆçº§

### ğŸ”´ é«˜ä¼˜å…ˆçº§ (ç«‹å³ä¿®å¤)
1. å‘ç¥¨é¡¹ç›®æ•°æ®ä¼ é€’é—®é¢˜
2. å‘ç¥¨å·ç æ˜ å°„é—®é¢˜
3. é‡‘é¢è®¡ç®—é€»è¾‘ä¿®å¤
4. **é”€å”®æ–¹ä¿¡æ¯ç¼ºå¤±** - å½±å“å‘ç¥¨å®Œæ•´æ€§å’Œåˆè§„æ€§ ğŸ†•

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ (åç»­ä¿®å¤)
1. **æ—¥æœŸæ ¼å¼ç»Ÿä¸€** - å½±å“å‘ç¥¨çš„å‡†ç¡®æ€§
2. **é‚®ç®±åœ°å€ç»Ÿä¸€** - å½±å“è”ç³»ä¿¡æ¯ä¸€è‡´æ€§
3. **è´§å¸æ ¼å¼æœ¬åœ°åŒ–** - å½±å“æ˜¾ç¤ºæ ¼å¼

### ğŸŸ¢ ä½ä¼˜å…ˆçº§ (ä¼˜åŒ–é¡¹)
1. æ³•å¾‹æ¡æ¬¾æ ¼å¼ä¼˜åŒ–
2. å¸ƒå±€ç»†èŠ‚è°ƒæ•´

## æŠ€æœ¯å®ç°å»ºè®®

### 1. æ•°æ®æ˜ å°„ä¿®å¤
```javascript
// ç¡®ä¿å‘ç¥¨é¡¹ç›®æ­£ç¡®æ˜ å°„
items: invoiceData.InvoiceItems?.map(item => ({
  description: item.description,
  quantity: item.quantity,
  unitPrice: item.unitPrice,
  taxRate: item.taxRate,
  total: item.quantity * item.unitPrice
})) || []
```

### 2. å‘ç¥¨å·ç ç»Ÿä¸€
```javascript
// ä½¿ç”¨æ•°æ®åº“ä¸­çš„å‘ç¥¨å·ç 
invoiceNumber: invoiceData.invoiceNumber || invoiceData.id
```

### 3. æ—¥æœŸæ ¼å¼å¤„ç†
```javascript
// ç»Ÿä¸€æ—¥æœŸæ ¼å¼å¤„ç†
invoiceDate: formatDate(invoiceData.issueDate || invoiceData.createdAt)
```

### 4. é‚®ç®±åœ°å€ç»Ÿä¸€
```javascript
// ä¼˜å…ˆä½¿ç”¨ç”¨æˆ·å®é™…é‚®ç®±
email: userData.email || userData.Company?.email
```

## å…·ä½“ä¿®å¤ä½ç½®

## æµ‹è¯•éªŒè¯æ¸…å•

- [ ] å‘ç¥¨é¡¹ç›®æ•°æ®æ­£ç¡®æ˜¾ç¤º
- [ ] å‘ç¥¨å·ç ä¸é¢„è§ˆä¸€è‡´
- [ ] æ—¥æœŸæ ¼å¼æ­£ç¡®
- [ ] é‡‘é¢è®¡ç®—å‡†ç¡®
- [ ] å®¢æˆ·ä¿¡æ¯å®Œæ•´
- [ ] é‚®ç®±åœ°å€ä¸€è‡´
- [ ] æ³•å¾‹æ¡æ¬¾å®Œæ•´

## æ›´æ–°è®°å½•

- **2025-10-22**: åˆå§‹å·®å¼‚åˆ†æå®Œæˆ
- **å¾…æ›´æ–°**: ä¿®å¤è¿›åº¦è·Ÿè¸ª

---

*æœ¬æ–‡æ¡£å°†æŒç»­æ›´æ–°ï¼Œè®°å½•ä¿®å¤è¿›åº¦å’Œæ–°å‘ç°çš„é—®é¢˜*